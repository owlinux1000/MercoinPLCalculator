# メルコインの月間取引報告書を用いた年間損益の計算スクリプト

## 概要

このスクリプトは、メルコインの月間取引報告書のCSVファイルを元に、市民税・県民税の申告や確定申告で必要となる数値を算出します。本スクリプトによって算出された値を、[暗号資産等に関する税務上の取扱い及び計算書について（令和5年12月）](https://www.nta.go.jp/publication/pamph/shotoku/kakuteishinkokukankei/kasoutuka/)で公開されている「**暗号資産の計算書（総平均法用）（EXCEL/233KB）**」に記載することで所得の計算をすることができます。**移動平均法用ではない**ので注意してください。  
月間取引報告書を用いた計算アルゴリズムは、メルカリのヘルプセンターに記載されている、[取引報告書・損益計算方法（ビットコイン取引）](https://help.jp.mercari.com/guide/articles/1513/)に従っています。

### 免責事項

本スクリプトは、できる限り正確な値を算出するように努めておりますが、正確性を保証するものではありません。本スクリプトによって生じた損害等の一切の責任を負いかねますのでご了承ください。

## 使い方

1. 作業用のフォルダ（例ではwork）を作成する
1. 対象年度の1月から12月の月間取引報告書をダウンロードし、作業フォルダに格納する
    - [取引報告書のダウンロード方法（ビットコイン取引）](https://help.jp.mercari.com/guide/articles/1369/)
1. 作業用フォルダを指定して、本スクリプトを実行する
    - `python plcalc.py -p work/`

正しく実行できると下記のような結果が得られます。

```
$ python plcalc.py -p work/
購入数量の合計: 0.00170094
購入金額の合計: 6891.0
売却数量の合計: 0.00170094
売却金額の合計: 8577.0
所得金額: 1686.0
```
